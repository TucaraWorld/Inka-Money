<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Inka Money - Gastos</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Poppins:wght@600&family=Space+Mono&family=Urbanist:wght@700&display=swap" rel="stylesheet" />
    
    <link rel="icon" type="image/png" href="assets/logo.png">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/balance.css" />
</head>
<body class="layout-wrapper">

    <!-- HEADER -->
    <header class="top-header" aria-label="Encabezado superior"></header>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="d-flex flex-grow-1 contenedor-general">
    
        <!-- SIDEBAR -->
        <aside class="sidebar d-flex flex-column p-3 menu-lateral" aria-label="Menú lateral">
        <div class="logo mb-4 d-flex align-items-center text-white logo-aplicacion">
            <img src="assets/logo.png" alt="Logo de Inka Money" class="me-2" width="32" height="32" />
            <strong>Inka Money</strong>
        </div>

        <nav aria-label="Navegación principal">
            <ul class="nav nav-pills flex-column mb-auto lista-navegacion">
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="bi bi-house me-2"></i>Inicio</a></li>
            <li>
                <a class="nav-link text-white d-flex justify-content-between align-items-center enlace-registros" data-bs-toggle="collapse" href="#submenuRegistros" role="button" aria-expanded="true">
                <span><i class="bi bi-currency-dollar me-2"></i>Registros</span>
                <i class="bi bi-caret-down-fill"></i>
                </a>
                <div class="collapse show" id="submenuRegistros">
                <ul class="nav flex-column ms-4 mt-2 submenu-registros">
                    <li><a href="#" class="nav-link text-white"><i class="bi bi-plus-lg me-2"></i>Ingresos</a></li>
                    <li><a href="gastos.html" class="nav-link text-white"><i class="bi bi-dash-lg me-2"></i>Gastos</a></li>
                    <li><a href="balance.html" class="nav-link nav-gastos"><i class="bi bi-bar-chart me-2"></i>Balance</a></li>
                </ul>
                </div>
            </li>
            <li><a href="#" class="nav-link text-white"><i class="bi bi-pie-chart me-2"></i>Metas de ahorro</a></li>
            <li>
                <a class="nav-link text-white d-flex justify-content-between align-items-center enlace-visualizacion" data-bs-toggle="collapse" href="#submenuVisualizacion" role="button" aria-expanded="false">
                <span><i class="bi bi-graph-up me-2"></i>Visualización</span>
                <i class="bi bi-caret-down-fill"></i>
                </a>
                <div class="collapse" id="submenuVisualizacion">
                <ul class="nav flex-column ms-4 mt-2 submenu-visualizacion">
                    <li><a href="#" class="nav-link text-white"><i class="bi bi-pie-chart me-2"></i>Categorías</a></li>
                    <li><a href="#" class="nav-link text-white"><i class="bi bi-bar-chart me-2"></i>Resumen</a></li>
                    <li><a href="#" class="nav-link text-white"><i class="bi bi-clock-history me-2"></i>Historial</a></li>
                </ul>
                </div>
            </li>
            <li><a href="#" class="nav-link text-white"><i class="bi bi-box-arrow-left me-2"></i>Cerrar sesión</a></li>
            </ul>
        </nav>
        </aside>

        <!-- SECCIÓN PRINCIPAL -->
        <div class="content d-flex flex-column flex-grow-1 seccion-principal">
            <main class="p-4 w-100 flex-grow-1 area-contenido" role="main">
                <div class="balance-container">
                    <!-- TÍTULO Y BOTÓN -->
                    <section class="balance-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h1 class="balance-title">Balance</h1>
                        </div>
                        <div class="nav nav-pills mt-3 budget-nav" id="balanceTabs" role="tablist">
                            <a href="#total" class="nav-option active" id="total-tab" data-bs-toggle="pill" data-bs-target="#total-content" role="tab" aria-controls="total-content" aria-selected="true">Total</a>
                            <a href="#presupuesto" class="nav-option" id="presupuesto-tab" data-bs-toggle="pill" data-bs-target="#presupuesto-content" role="tab" aria-controls="presupuesto-content" aria-selected="false">Presupuesto</a>
                            <a href="#categoria" class="nav-option" id="categoria-tab" data-bs-toggle="pill" data-bs-target="#categoria-content" role="tab" aria-controls="categoria-content" aria-selected="false">Categoría</a>
                            <a href="#graficos" class="nav-option" id="graficos-tab" data-bs-toggle="pill" data-bs-target="#graficos-content" role="tab" aria-controls="graficos-content" aria-selected="false">Gráficos</a>
                        </div>
                        <script>
                            // JavaScript for switching tabs with custom behavior
                            const tabs = document.querySelectorAll('.nav-option');
                            const tabContents = document.querySelectorAll('.tab-pane');

                            tabs.forEach(tab => {
                            tab.addEventListener('click', function() {
                                // Remove active class from all tabs and content
                                tabs.forEach(t => t.classList.remove('active'));
                                tabContents.forEach(content => content.classList.remove('show', 'active'));

                                // Add active class to the clicked tab and corresponding content
                                tab.classList.add('active');
                                const targetContent = document.querySelector(tab.getAttribute('data-bs-target'));
                                targetContent.classList.add('show', 'active');
                            });
                            });
                        </script>
                    </section>

                    <div class="tab-content mt-4" id="balanceTabsContent">
                        <!-- BALANCE TOTAL -->
                        <div class="tab-pane fade show active" id="total-content" role="tabpanel" aria-labelledby="total-tab">
                            <section class="total-balance">
                                <div class="balance-average">
                                    <div class="user-profile">
                                        <img src="assets/img/user-avatar.png" alt="User Avatar">
                                    </div>      

                                    <!-- Tarjeta de Saldo Actual -->
                                    <div class="saldo-card">
                                        <div class="saldo-text">
                                            <i class="bi bi-cash-coin saldo-icon"></i>
                                            <h3 class="saldo-title">Saldo actual</h3>
                                        </div>

                                        <h2 class="saldo-amount total">S/. 250.00</h2>

                                        <div class="saldo-footer">
                                            <small class="saldo-date">Abril del 2025</small>
                                            <button class="btn btn-link" id="toggle-saldo-total">Ocultar saldo <i class="bi bi-eye-slash"></i></button>
                                        </div>            
                                        

                                    </div>
                                </div>
                            
                                <div class="cards-row">
                                    <div class="card">
                                        <h5>Mayor ingreso</h5>
                                        <p>Para educación</p>
                                        <h6>S/. 3,000.00</h6>
                                    </div>
                                    <div class="card">
                                        <h5>Mayor gasto</h5>
                                        <p>Para educación</p>
                                        <h6>S/. 1,700.00</h6>
                                    </div>
                                    <div class="card icon">
                                        <img src="assets/icons/profit-lines.png" alt="Profit Lines Icon" class="card-icon">
                                    </div>
                                </div>

                                <div class="cards-row">
                                    <div class="card">
                                        <h5>Menor ingreso</h5>
                                        <p>Para transporte</p>
                                        <h6>S/. 200.00</h6>
                                    </div>
                                    <div class="card">
                                        <h5>Menor gasto</h5>
                                        <p>Para transporte</p>
                                        <h6>S/. 220.00</h6>
                                    </div>
                                    <div class="card icon">
                                        <img src="assets/icons/loss-lines.png" alt="Loss Lines Icon" class="card-icon">
                                    </div>
                                </div>
                            </section>
                        </div>


                        <!-- PRESUPUESTO -->
                        <div class="tab-pane fade" id="presupuesto-content" role="tabpanel" aria-labelledby="presupuesto-tab">
                            <section class="presupuesto-balance">
                            </section>
                        </div>

                        <!-- BALANCE POR CATEGORÍA -->
                        <div class="tab-pane fade" id="categoria-content" role="tabpanel" aria-labelledby="categoria-tab">
                            <section class="categoria-balance">
                                <div class="balance-average">
                                    <div class="user-profile">
                                        <img src="assets/img/user-avatar.png" alt="User Avatar">
                                    </div>      

                                    <!-- Tarjeta de Saldo Actual -->
                                    <div class="saldo-card">
                                        <div class="saldo-text">
                                            <i class="bi bi-cash-coin saldo-icon"></i>
                                            <h3 class="saldo-title">Saldo actual</h3>
                                        </div>

                                        <h2 class="saldo-amount categoria">S/. 250.00</h2>

                                        <div class="saldo-footer">
                                            <small class="saldo-date">Abril del 2025</small>
                                            <button class="btn btn-link" id="toggle-saldo-categoria">Ocultar saldo <i class="bi bi-eye-slash"></i></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="cards-row">
                                    <div class="card text">
                                        <h5>Saldo por categoría</h5>
                                    </div>
                                    <div class="card">
                                        <h5>Comida</h5>
                                        <h6>S/. 250.00</h6>
                                    </div>
                                    <div class="card">
                                        <h5>Educación</h5>
                                        <h6>S/. 1,300.00</h6>
                                    </div>
                                </div>

                                <div class="cards-row">
                                    <div class="card">
                                        <h5>Salud</h5>
                                        <h6>S/. 100.00</h6>
                                    </div>
                                    <div class="card">
                                        <h5>Transporte</h5>
                                        <h6>S/. 20.00</h6>
                                    </div>
                                    <div class="card">
                                        <h5>Hobbies</h5>
                                        <h6>S/. 30.00</h6>
                                    </div>
                                </div>

                                <div class="advertencia-text">
                                    <p>*Los montos disponiblesmostrados son para un gasto mensual</p>
                                </div>
                            </section>
                        </div>

                        <!-- BALANCE GRAFICOS -->
                        <div class="tab-pane fade" id="graficos-content" role="tabpanel" aria-labelledby="graficos-tab">
                            <section class="graficos-balance">
                                <div class="balance-average">
                                    <div class="user-profile">
                                        <img src="assets/img/user-avatar.png" alt="User Avatar">
                                    </div>      

                                    <!-- Grafico de Saldo Actual -->
                                    <div class="card shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="bi bi-coin"></i> Saldo promedio</h5>
                                            <canvas id="averageBalanceChart"></canvas>
                                        </div>

                                        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                                        <script>
                                            // Saldo promedio chart
                                            var ctx1 = document.getElementById('averageBalanceChart').getContext('2d');
                                            new Chart(ctx1, {
                                                type: 'line',
                                                data: {
                                                labels: ['Ago', 'Set', 'Oct', 'Nov', 'Dic', 'Ene', 'Feb', 'Mar', 'Abr'],
                                                datasets: [{
                                                    label: 'Saldo Promedio',
                                                    data: [1500, 2000, 2300, 3000, 1000, 1550, 1360, 2600, 1800],
                                                    borderColor: '#FFD100',
                                                    backgroundColor: 'rgba(255, 209, 0, 0.1)',
                                                    fill: true
                                                }]
                                                },
                                                options: {
                                                    responsive: true,
                                                    scales: {
                                                    y: {
                                                        beginAtZero: false,
                                                        min: 0,
                                                        ticks: {
                                                        stepSize: 500
                                                        }
                                                    }
                                                    }
                                                }
                                            });
                                        </script>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Income vs Expense Chart -->
                                    <div class="col-md-6 mb-4">
                                        <div class="card-chart shadow-sm">
                                            <div class="card-body">
                                                <h5 class="card-title"><i class="bi bi-credit-card"></i> Ingresos y gastos</h5>
                                                <canvas id="incomeExpenseChart"></canvas>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Category Balance Chart -->
                                    <div class="col-md-6 mb-4">
                                        <div class="card-chart shadow-sm">
                                            <div class="card-body">
                                                <h5 class="card-title"><i class="bi bi-grid-fill"></i> Saldo por categoría</h5>
                                                <canvas id="categoryBalanceChart"></canvas>
                                            </div>
                                        </div>
                                    </div>

                                    <script>
                                    // Ingresos y gastos chart
                                    var ctx2 = document.getElementById('incomeExpenseChart').getContext('2d');
                                    new Chart(ctx2, {
                                        type: 'bar',
                                        data: {
                                            labels: ['Nov', 'Dic', 'Ene', 'Feb', 'Mar', 'Abr'],
                                            datasets: [{
                                                label: 'Ingresos',
                                                data: [5000, 6000, 7000, 5500, 6500, 8000],
                                                backgroundColor: 'rgba(0, 123, 255, 0.5)',
                                            }, {
                                                label: 'Gastos',
                                                data: [4500, 4800, 5000, 4600, 5500, 6000],
                                                backgroundColor: 'rgba(255, 99, 132, 0.5)',
                                            }]
                                        }
                                    });

                                    // Saldo por categoría chart
                                    var ctx3 = document.getElementById('categoryBalanceChart').getContext('2d');
                                    new Chart(ctx3, {
                                        type: 'pie',
                                        data: {
                                            labels: ['Educación', 'Comida', 'Salud', 'Hobbies', 'Transporte'],
                                            datasets: [{
                                                data: [76.47, 14.71, 5.88, 1.76, 1.18],
                                                backgroundColor: ['#6f42c1', '#0d6efd', '#198754', '#fd7e14', '#dc3545'],
                                            }]
                                        }
                                    });
                                    </script>
                                </div>
                            </section>
                        </div>

                        <script>
                            const saldoAmountTotal = document.querySelector('.saldo-amount.total');
                            const saldoAmountCategoria = document.querySelector('.saldo-amount.categoria');
                            const toggleButtonTotal = document.getElementById('toggle-saldo-total');
                            const toggleButtonCategoria = document.getElementById('toggle-saldo-categoria');
                            toggleButtonTotal.addEventListener('click', function() {
                            if (saldoAmountTotal.textContent === 'S/. 250.00') {
                                saldoAmountTotal.textContent = '- - - - -';
                            } else {
                                saldoAmountTotal.textContent = 'S/. 250.00';
                            }
                            });
                            toggleButtonCategoria.addEventListener('click', function() {
                            if (saldoAmountCategoria.textContent === 'S/. 250.00') {
                                saldoAmountCategoria.textContent = '- - - - -';
                            } else {
                                saldoAmountCategoria.textContent = 'S/. 250.00';
                            }
                            });
                        </script>

                    </div>
                    
                </div>
            </main>

            <!-- FOOTER -->
            <footer class="footer text-center py-3 text-white pie-pagina" aria-label="Pie de página">
                Inka Money © 2025
            </footer>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>